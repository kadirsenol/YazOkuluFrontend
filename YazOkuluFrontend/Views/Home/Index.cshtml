@{
    ViewData["Title"] = "Haliç Üniversitesi Yaz Okulu";
}

<div class="max-w-lg mx-auto bg-white p-8 shadow rounded-lg text-center mt-10">
   
    <img class="h-24 w-auto mx-auto mb-6" src="https://halic.edu.tr/wp-content/uploads/2025/06/25/halic_universitesi_logo.svg" alt="Haliç Üniversitesi Logo">

    <h1 class="text-4xl font-bold text-gray-800 mb-4">Haliç Üniversitesi Yaz Okulu</h1>

   
    <p class="text-gray-700 mb-8 max-w-xl text-lg mx-auto" id="welcomeMsg">
        Yaz Okulu Ders Başvuru Modülüne Hoş Geldiniz! <br>
        Derslere başvurabilir veya başvurularınızı takip edebilirsiniz.
    </p>

    
    <div class="flex flex-col sm:flex-row justify-center items-center gap-6 h-24">
        <a asp-controller="Auth" asp-action="Login" id="studentLoginBtn"
           class="flex items-center justify-center px-8 py-3 bg-blue-600 text-white rounded-xl text-lg font-semibold hover:bg-blue-700 transition shadow-md text-center">
            <i class="bi bi-person mr-2 text-lg"></i> Öğrenci Girişi
        </a>
        <a asp-controller="Admin" asp-action="Login" id="adminLoginBtn"
           class="flex items-center justify-center px-8 py-3 bg-gray-800 text-white rounded-xl text-lg font-semibold hover:bg-gray-900 transition shadow-md text-center">
            <i class="bi bi-shield-lock mr-2 text-lg"></i> Admin Girişi
        </a>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const token = localStorage.getItem("Token");
        const welcomeMsg = document.getElementById("welcomeMsg");

        if (!welcomeMsg) return;

        if (token) {
           
            welcomeMsg.classList.add("mt-14");

            let payload = null;
            try {
                
                payload = JSON.parse(atob(token.split('.')[1]));
            } catch (e) {
                console.warn("Token parse edilemedi:", e);
                return;
            }

            const userName = payload["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"];
            if (userName) {
                welcomeMsg.innerHTML = `Hoşgeldin <strong class="text-green-600 uppercase">${userName}</strong>! Derslere başvurabilir ve başvurularını takip edebilirsin.`;
            }
        } else {
            
            welcomeMsg.classList.remove("mt-14");
        }
    });
</script>
